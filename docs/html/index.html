<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MassCalculator: Metal Mass Calculator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MassCalculator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Metal Mass Calculator </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Jenkins CI pipeline: No jenkins server for the moment</p>
<p>Travis CI pipeline : master: <a href="https://travis-ci.com/jimmyhalimi/MassCalculator"></a> | devel: <a href="https://travis-ci.com/jimmyhalimi/MassCalculator"></a></p>
<h2>What is MetalMassCalculator</h2>
<p>This package includes one library and one executable that opens a GUI for the app. All the calculations are done in the library and the GUI Executable is only a wrapper for user experience. The library can also be integrated in a nother app so that is the reason why it is seperated like this.</p>
<h2>Additional info (Design pattern used and GUI lib)</h2>
<h3>CRTP Design Pattern</h3>
<p>The main reason of using the CRTP is learning the design pattern and its usage for Compile Time Polimorfism. During my experience I had a lot to do with Run Time Polimorfism and Base classes with pure virtual functions, and while working I realised that dynamic_casting takes a lot of time and is quite dangerous to use ...</p>
<p>The CRTP fixes this scenario, and it is much safier because you get errors in compile time. Also it is much faster.</p>
<p>The CRTP consists in:</p>
<ul>
<li>inheriting from a template class,</li>
<li>use the derived class itself as a template parameter of the base class.</li>
</ul>
<p>This is what it looks like in code:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class </span>Base</div><div class="line">{</div><div class="line">    ...</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class </span>Derived : <span class="keyword">public</span> Base&lt;Derived&gt;</div><div class="line">{</div><div class="line">    ...</div><div class="line">};</div></div><!-- fragment --><p>The purpose of doing this is using the derived class in the base class. From the perspective of the base object, the derived object is itself, but downcasted. Therefore the base class can access the derived class by static_casting itself into the derived class.</p>
<p><a href="https://www.fluentcpp.com/2017/05/12/curiously-recurring-template-pattern/">Source: FluentCPP (CRTP Expplained in three episodes)</a></p>
<h3>GUI with QT5</h3>
<p>For my GUI I wanted to go with CopperSpice (LINK), but I found it very hard to get started, therefore I used QT because of the large community. This is my first GUI app ever, so QT Developers, bare with me I know for sure I am doing lot of stuff wrong.</p>
<h2>Dependencies</h2>
<p>Below listed packages are required and have to be installed/compiled before:</p>
<ul>
<li>CMake <div class="fragment"><div class="line">$ sudo apt install cmake</div></div><!-- fragment --></li>
<li>OpenGL <div class="fragment"><div class="line">$ sudo apt install mesa-utils</div></div><!-- fragment --></li>
<li>libQT5 (Need to check which modules are nessesary to install) <div class="fragment"><div class="line">$ sudo apt install qtbase5-dev</div></div><!-- fragment --></li>
<li>libDXFlib <div class="fragment"><div class="line">$ sudo apt install libdxflib-dev</div></div><!-- fragment --></li>
<li>libLUAlib <div class="fragment"><div class="line">$ sudo apt-get install lua5.1-0</div><div class="line">$ sudo apt-get install liblua5.1-0-dev</div></div><!-- fragment --></li>
<li>freeGlut - <b>Not used anymore, switched to QT</b> <div class="fragment"><div class="line">$ sudo apt install freeglut3-dev</div></div><!-- fragment --></li>
<li>libGlui - <b>Not used anymore, switched to QT</b> <div class="fragment"><div class="line">$ git clone https://github.com/libglui/glui</div><div class="line">$ cd ${repo}</div><div class="line">$ mkdir build &amp;&amp; cd build</div><div class="line">$ cmake ..</div><div class="line">$ make </div><div class="line">$ sudo make install</div></div><!-- fragment --></li>
<li>GoogleTest <div class="fragment"><div class="line">$ git clone https://github.com/google/googletest.git</div><div class="line">$ cd ${repo}</div><div class="line">$ mkdir build &amp;&amp; cd build</div><div class="line">$ cmake ..</div><div class="line">$ make </div><div class="line">$ sudo make install</div></div><!-- fragment --></li>
<li>Eigen <b>Currently not used</b> <div class="fragment"><div class="line">$ git clone https://github.com/eigenteam/eigen-git-mirror.git</div><div class="line">$ cd ${repo}</div><div class="line">$ mkdir build &amp;&amp; cd build</div><div class="line">$ cmake ..</div><div class="line">$ make </div><div class="line">$ sudo make install</div></div><!-- fragment --></li>
</ul>
<h2>Build sources</h2>
<p>There is no current working version, the work is still in progress.</p>
<h2>Docker container</h2>
<p>TODO: Add build commands and launch commands for the Dockerfile</p>
<h2>Use the application</h2>
<h3>CommandLine</h3>
<p>The application can be used in command line</p>
<div class="fragment"><div class="line">./build/MassCalculator/MassCalculator</div></div><!-- fragment --><h3>GUI</h3>
<p>The application can be started only with one line, and this is the executable after build</p>
<div class="fragment"><div class="line">./build/MassCalculatorGUI/MassCalculatorGUI</div></div><!-- fragment --><p>Everything then can be handled from the GUI.</p>
<h2>PPA and getting the app via apt</h2>
<p>TODO: In progress</p>
<h2>TODO List</h2>
<ul>
<li>**(done)** Doxyfile for doxygen documentation</li>
<li>**(done)** Add headers that include all the headers</li>
<li>**(todo)** Research for inheriting in the object class the two base classes for Shape and Material</li>
<li>**(done)** Overload shift operator with the details of the object (Remaining only for ObjectInterface)</li>
<li>**(done)** Create a struct for the material properties</li>
<li>**(done)** Integrate lua for text properties in resources follder. Also do const string literals if the file is missing or cannot be read</li>
<li>**(done)** Integrate libdxflib to read the dxf files</li>
<li>**(done)** Find all physical and mechalincal properties that a material has, and finish the Aluminium class so nothing else is needed there then can cantinue to do the other classes.</li>
<li>**(done)** Finish the base class with the common functions so you don't have to deal then with the base class material</li>
<li>**(done)** Continue with the class shapes</li>
<li>**(done)** overload shift operator in enum</li>
</ul>
<p>Note:</p><ul>
<li>.hh files are header only to include all the headers</li>
<li>.hpp files have a .cpp file that is associated with</li>
</ul>
<p>What I also want to have in the app:</p><ul>
<li>**(todo)** lambdas</li>
<li>**(done)** constexpr</li>
<li>**(todo)** std::function</li>
<li>**(todo)** Posibility to import DXF and extude while in app</li>
<li>**(todo)** Posibility to import STL and calculate the mass of the model </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Mar 28 2020 17:39:07 for MassCalculator by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
